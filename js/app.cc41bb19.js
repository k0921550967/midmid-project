(function(){"use strict";var e={3989:function(e,t,l){var o=l(3751),n=l(641),u=(l(4114),l(8111),l(2489),l(33)),s=l(953);const a={class:"text-sm text-center"},i={key:0,class:"absolute top-1 right-1 w-3 h-3 bg-blue-500 rounded-full"};var r={__name:"BookComponent",props:{book:{type:Object,required:!0},isFound:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){return(t,l)=>((0,n.uX)(),(0,n.CE)("button",{onClick:l[0]||(l[0]=l=>t.$emit("click",e.book)),class:(0,u.C4)([e.book.color,"hover:opacity-80","p-4","rounded-md","transition-all","transform","hover:scale-105","flex","flex-col","items-center","justify-center","min-h-[120px]","relative",e.isFound?"ring-2 ring-blue-500":""])},[l[1]||(l[1]=(0,n.Lk)("span",null,"[Book]",-1)),(0,n.Lk)("span",a,(0,u.v_)(e.book.title),1),e.isFound?((0,n.uX)(),(0,n.CE)("div",i)):(0,n.Q3)("",!0)],2))}},c=l(6262);const d=(0,c.A)(r,[["__scopeId","data-v-087c4122"]]);var v=d,b={__name:"PasswordInput",emits:["submit"],setup(e,{emit:t}){const l=(0,s.KR)(""),u=t,a=()=>{u("submit",l.value),l.value=""};return(e,t)=>((0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,o.D$)(a,["prevent"]),class:"space-y-4"},[(0,n.bo)((0,n.Lk)("input",{type:"password",maxlength:"4","onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),class:"w-full p-2 border rounded text-center text-2xl tracking-wider",placeholder:"輸入四位數密碼"},null,512),[[o.Jo,l.value]]),t[1]||(t[1]=(0,n.Lk)("button",{type:"submit",class:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded"}," 確認密碼 ",-1))],32))}};const p=(0,c.A)(b,[["__scopeId","data-v-3da62da0"]]);var k=p;const g={class:"max-w-4xl mx-auto p-4"},f={key:0,class:"text-center space-y-6"},y={key:1,class:"space-y-6"},h={class:"bg-amber-100 p-6 rounded-lg shadow-lg"},m={class:"flex justify-between items-center mb-4"},x={class:"text-sm text-gray-600"},w={class:"grid grid-cols-4 gap-4 mb-6"},C={key:2,class:"space-y-6"},L={class:"bg-white p-6 rounded-lg shadow-lg"},K={key:3,class:"text-center space-y-6"},_={key:4,class:"fixed bottom-4 left-4 bg-white p-2 rounded-lg shadow-lg"},E={class:"flex space-x-2"},X={key:0},j={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},O={class:"bg-white rounded-lg p-6 max-w-md w-full"},F={class:"text-xl font-bold mb-4"},R={class:"mb-6"},I={key:0,class:"text-gray-700"},Q={key:1,class:"text-gray-500"};var A={__name:"EscapeRoom",setup(e){const t=(0,s.KR)([]),l=(0,s.Kh)({bookshelfSolved:!1,hasKey:!1,hasNote:!1,gameCompleted:!1}),o=e=>{t.value.includes(e)||t.value.push(e)},a=(e,t)=>{l[e]=t},i=(0,s.KR)("intro"),r=(0,s.KR)(null),c=(0,s.KR)([]),d=(0,s.KR)([{id:1,title:"古老的童話書",color:"bg-red-200",clue:'童話書上寫著: "數字的開始是 3"',isKey:!1},{id:2,title:"破舊的字典",color:"bg-blue-200",clue:'字典裡夾著一張紙條: "_ _ 4 _"',isKey:!1},{id:3,title:"歷史課本",color:"bg-green-200",clue:null,isKey:!0},{id:4,title:"神秘的日記",color:"bg-yellow-200",clue:'日記最後一頁寫著: "第二個數字是 5"',isKey:!1},{id:5,title:"數學練習簿",color:"bg-purple-200",clue:null,isKey:!1},{id:6,title:"食譜",color:"bg-pink-200",clue:'食譜角落有筆記: "最後是 7"',isKey:!1},{id:7,title:"地圖冊",color:"bg-orange-200",clue:null,isKey:!1},{id:8,title:"詩集",color:"bg-teal-200",clue:null,isKey:!1}]),b=e=>{r.value=e,e.clue&&!c.value.includes(e.id)&&c.value.push(e.id),e.isKey&&!l.hasKey&&(a("hasKey",!0),o("key"),alert("你在書中找到了一把鑰匙！"))},p=()=>{i.value="intro",c.value=[],a("gameCompleted",!1),a("hasKey",!1),t.value=[]};return(e,o)=>((0,n.uX)(),(0,n.CE)("div",g,["intro"===i.value?((0,n.uX)(),(0,n.CE)("div",f,[o[4]||(o[4]=(0,n.Lk)("h1",{class:"text-3xl font-bold"},"圖書館密室逃脫",-1)),o[5]||(o[5]=(0,n.Lk)("p",{class:"text-lg"},"你被鎖在一間神秘的圖書館裡，需要找出線索才能逃出去...",-1)),(0,n.Lk)("button",{onClick:o[0]||(o[0]=e=>i.value="bookshelf"),class:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600"}," 開始遊戲 ")])):"bookshelf"===i.value?((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("div",h,[(0,n.Lk)("div",m,[o[6]||(o[6]=(0,n.Lk)("h2",{class:"text-xl font-bold"},"圖書館書架",-1)),(0,n.Lk)("div",x," 已找到的線索: "+(0,u.v_)(c.value.length)+" / "+(0,u.v_)(d.value.filter((e=>e.clue)).length),1)]),(0,n.Lk)("div",w,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.value,(e=>((0,n.uX)(),(0,n.Wv)(v,{key:e.id,book:e,onClick:b,isFound:c.value.includes(e.id)},null,8,["book","isFound"])))),128))]),l.hasKey?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:o[1]||(o[1]=e=>i.value="lock"),class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"}," 前往密碼鎖 ")):(0,n.Q3)("",!0)])])):"lock"===i.value?((0,n.uX)(),(0,n.CE)("div",C,[(0,n.Lk)("button",{onClick:o[2]||(o[2]=e=>i.value="bookshelf"),class:"flex items-center text-gray-600 hover:text-gray-900"},o[7]||(o[7]=[(0,n.Lk)("span",{class:"mr-2"},"[ArrowLeft]",-1),(0,n.eW)(" 返回書架 ")])),(0,n.Lk)("div",L,[o[8]||(o[8]=(0,n.Lk)("h2",{class:"text-xl font-bold mb-4"},"密碼鎖",-1)),(0,n.bF)(k,{onSubmit:"{handlePasswordSubmit}"})])])):"ending"===i.value?((0,n.uX)(),(0,n.CE)("div",K,[o[9]||(o[9]=(0,n.Lk)("h1",{class:"text-3xl font-bold"},"恭喜你成功逃出！",-1)),o[10]||(o[10]=(0,n.Lk)("p",{class:"text-lg"},"你成功解開了所有謎題，離開了這個神秘的圖書館。",-1)),(0,n.Lk)("button",{onClick:p,class:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600"}," 再玩一次 ")])):(0,n.Q3)("",!0),"intro"!==i.value&&"ending"!==i.value?((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",E,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.value,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"bg-gray-100 p-2 rounded"},["key"===e?((0,n.uX)(),(0,n.CE)("span",X,"[Key]")):(0,n.Q3)("",!0)])))),128))])])):(0,n.Q3)("",!0),r.value?((0,n.uX)(),(0,n.CE)("div",j,[(0,n.Lk)("div",O,[(0,n.Lk)("h3",F,(0,u.v_)(r.value.title),1),(0,n.Lk)("div",R,[r.value.clue?((0,n.uX)(),(0,n.CE)("p",I,(0,u.v_)(r.value.clue),1)):((0,n.uX)(),(0,n.CE)("p",Q,"這本書似乎沒有特別的線索..."))]),(0,n.Lk)("button",{onClick:o[3]||(o[3]=e=>r.value=null),class:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600"}," 關閉 ")])])):(0,n.Q3)("",!0)]))}};const P=(0,c.A)(A,[["__scopeId","data-v-49b53c1d"]]);var S=P;const B={id:"app"};var T={__name:"App",setup(e){return(e,t)=>((0,n.uX)(),(0,n.CE)("div",B,[(0,n.bF)(S)]))}};const W=T;var $=W;(0,o.Ef)($).mount("#app")}},t={};function l(o){var n=t[o];if(void 0!==n)return n.exports;var u=t[o]={exports:{}};return e[o].call(u.exports,u,u.exports,l),u.exports}l.m=e,function(){var e=[];l.O=function(t,o,n,u){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],u=e[c][2];for(var a=!0,i=0;i<o.length;i++)(!1&u||s>=u)&&Object.keys(l.O).every((function(e){return l.O[e](o[i])}))?o.splice(i--,1):(a=!1,u<s&&(s=u));if(a){e.splice(c--,1);var r=n();void 0!==r&&(t=r)}}return t}u=u||0;for(var c=e.length;c>0&&e[c-1][2]>u;c--)e[c]=e[c-1];e[c]=[o,n,u]}}(),function(){l.d=function(e,t){for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,u,s=o[0],a=o[1],i=o[2],r=0;if(s.some((function(t){return 0!==e[t]}))){for(n in a)l.o(a,n)&&(l.m[n]=a[n]);if(i)var c=i(l)}for(t&&t(o);r<s.length;r++)u=s[r],l.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return l.O(c)},o=self["webpackChunkmidmid_project"]=self["webpackChunkmidmid_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=l.O(void 0,[504],(function(){return l(3989)}));o=l.O(o)})();
//# sourceMappingURL=app.cc41bb19.js.map